<!doctype html>
<html lang = "en">
<head>
  <meta charset = "UTF-8">
  <meta name = "viewport"
		content = "width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv = "X-UA-Compatible" content = "ie=edge">
  <script src = "https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.min.js"
		  integrity = "sha512-ykZ1QQr0Jy/4ZkvKuqWn4iF3lqPZyij9iRv6sGqLRdTPkY69YX6+7wvVGmsdBbiIfN/8OdsI7HABjvEok6ZopQ=="
		  crossorigin = "anonymous" referrerpolicy = "no-referrer"></script>
  <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css"
		integrity = "sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg=="
		crossorigin = "anonymous" referrerpolicy = "no-referrer"/>
  <script src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
		  integrity = "sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
		  crossorigin = "anonymous" referrerpolicy = "no-referrer"></script>
  <title>Document</title>
</head>
<body>
<div class = "container text-center">
  <div class = "row align-items-center mt-5">
	<div class = "col-2">
	  <a href = "/admin" class = "text-decoration-none text-white">
		<button class = "btn btn-primary">
		  Trang chủ
		</button>
	  </a>
	</div>
	<div class = "col align-self-center">
	  <h1 style = "display: inline-block">Xin chào {{admin}}</h1>
	</div>
	<div class = "col align-self-center">
	  <a href = "/admin/logout">
		<button class = "btn btn-primary">Đăng xuất</button>
	  </a>
	</div>
  </div>
  <div class = "row mb-3">
	<div class = "col-1 fw-bold border">Mã đơn</div>
	<div class = "col-1 fw-bold border">Tên</div>
	<div class = "col-2 fw-bold border">Tổng tiền</div>
	<div class = "col-3 fw-bold border">Email</div>
	<div class = "col-2 fw-bold border">SĐT</div>
	<div class = "col-2 fw-bold border">Địa chỉ</div>
  </div>
  {% for item in items %}
  <div class = "row text-center mb-3">
	<div class = "col-1 border">
	  <p class = "mt-3">{{item['orderId']}}</p>
	</div>
	<div class = "col-1 border">
	  <p class = "mt-3">{{item['lname']}}</p>
	</div>
	<div class = "col-2 border">
	  <p class = "price mt-3">{{item['total']}}</p>
	</div>
	<div class = "col-3 border">
	  <p class = "mt-3">{{item['email']}}</p>
	</div>
	<div class = "col-2 border">
	  <p class = "mt-3">{{item['phone']}}</p>
	</div>
	<div class = "col-2 border">
	  <p class = "mt-3">{{item['address']}}</p>
	</div>
	<div class = "col-1">
	  <a href = "/admin/tracking/{{item['orderId']}}" class = "text-white text-decoration-none">
		<button class = "btn btn-primary">
		  Xử lí đơn
		</button>
	  </a>
	</div>
  </div>
  {% endfor %}
</div>

<script>
    function formatString(x) {
        return x.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ".") + " " + "VND";
    }

    let price = document.querySelectorAll('.price')
    for (let i = 0; i < price.length; i++) {
        price[i].innerText = formatString(price[i].innerText);
    }
</script>

</body>
</html>